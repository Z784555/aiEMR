# 医疗AI导诊系统 - 运行前检查清单

## ⚠️ 代码不能直接运行，需要完成以下步骤：

### 1. 数据库准备（必须）
- [ ] 确保MySQL数据库已启动
- [ ] 创建数据库：`CREATE DATABASE IF NOT EXISTS aihis CHARACTER SET utf8mb4;`
- [ ] 执行SQL脚本创建表：运行 `src/main/resources/sql/init.sql`
- [ ] 确认数据库连接配置正确（application.yaml中的用户名、密码、数据库名）

### 2. 数据库配置检查
当前配置：
- 数据库名：`aihis`
- 用户名：`root`
- 密码：`root`
- 地址：`localhost:3306`

如果您的数据库配置不同，请修改 `application.yaml` 中的配置。

### 3. API密钥检查
- [ ] 确认DeepSeek API密钥有效（当前配置在application.yaml中）
- [ ] 如果API密钥过期，需要更新 `spring.ai.openai.api-key`

### 4. Maven依赖
- [ ] 确保已安装Maven
- [ ] 运行 `mvn clean install` 下载依赖

### 5. 启动应用
- [ ] 运行 `Demo99App.java` 主类
- [ ] 检查控制台是否有错误信息

### 6. 测试接口
启动成功后，访问：
```
GET http://localhost:18080/d/c1?msg=你好，我需要看病&chatId=test-001
```

## 常见问题

### 问题1：数据库连接失败
**解决方案**：
1. 检查MySQL是否启动
2. 检查数据库名、用户名、密码是否正确
3. 确认数据库已创建

### 问题2：表不存在
**解决方案**：
执行 `src/main/resources/sql/init.sql` 脚本创建表

### 问题3：ChatMemory Bean未找到
**解决方案**：
Spring AI会自动配置ChatMemory，如果报错，检查是否缺少相关依赖

### 问题4：API调用失败
**解决方案**：
1. 检查网络连接
2. 检查API密钥是否有效
3. 检查DeepSeek服务是否可用


